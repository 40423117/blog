Title: admin-畫出系上網路配置圖
Category: 規劃
Tags: CADLAB, Ｍanual, MCAD
Author: 40423117
使用Python3+nwdiag畫出網路配置圖

<!-- PELICAN_END_SUMMARY -->

系上網路配置
------------
<img src="http://40423117.github.io/blog_data/images/inter1.jpg" width="600"></img>
<img src="http://40423117.github.io/blog_data/images/inter2.jpg" width="600"></img>
<img src="http://40423117.github.io/blog_data/images/inter3.jpg" width="600"></img>

畫出網路配置圖
------------
使用 Python3 與 [http://blockdiag.com/en/](http://blockdiag.com/en/){:target="_blank"}中的 nwdiag 工具繪製機械設計工程系的網路配置圖.

    #安裝 blockdiag 模組
    pip install blockdiag
    
<img src="http://40423117.github.io/blog_data/images/blockdiag.PNG" width="250" alt="blockdiag 安裝"></img>

    #安裝 nwdiag 模組
    pip install nwdiag

<img src="http://40423117.github.io/blog_data/images/nwdiag.png" width="250" alt="nwdiag 安裝"></img>

到SciTE下貼上以下程式碼

~~~python
nwdiag {
    default_fontsize = 15;
    校主幹 [shape = cloud];
    校主幹 -- 系路由器;
 
    network 系主幹{
        address = "140.130.17.0/24";
        系路由器 [address="140.130.17.254"];
        雲端點名網路;
        八樓集線器 [address="140.130.17.82"];
        七樓集線器;
        六樓集線器;
        系伺服器群;
    }
 
    network 八樓主幹{
        address="17.10-82"
        八樓集線器 [address="140.130.17.82"];
        老師1伺服器群 [address="140.130.17.10-15"];
        老師2伺服器群 [address="140.130.17.16-25"];
        老師3伺服器群 [address="140.130.17.26-60"];
    }
 
    network CAD_CAE{
        address="17.83";
        八樓集線器 [address="140.130.17.82"];
        CAD_NAT [address="140.130.17.82"];
        CAE_NAT [address="140.130.17.83"];
    }
 
    network 電腦輔助設計室{
        address="192.168.1.0/24";
        CAD_NAT [address="192.168.1.1"];
        CAD1 [address=".2"];
        CAD2;
        CAD64 [address=".100"];
    }
 
    network 電腦輔助繪圖室{
        address="192.168.1.0/24";
        CAE_NAT [address="192.168.1.1"];
        CAE1 [address=".2"];
        CAE2;
        CAE64 [address=".100"];
    }
 
    network 七樓主幹{
        address="140.130.17.83-90"
        七樓集線器;
        老師4伺服器群 [address="140.130.17.61-63"];
        老師5伺服器群 [address="140.130.17.64-70"];
        老師6伺服器群 [address="140.130.17.71-75"];
    }
 
    network 六樓主幹{
        address="140.130.17.91-100"
        六樓集線器;
        老師7伺服器群 [address="140.130.17.76-78"];
        老師8伺服器群 [address="140.130.17.79-80"];
        老師9伺服器群 [address="140.130.17.81-95"];
    }
}
~~~

根據
~~~python
Execute nwdiag command:
$ nwdiag simple.diag
$ ls simple.png
simple.png
~~~
將上述程式碼儲存為 .diag檔後，
假設路徑在 y:\tmp 底下則輸入 
~~~python
nwdiag y:\tmp\simple.diag
~~~

<img src="http://40423117.github.io/blog_data/images/diag.png" width="250" alt="diag png"></img>

在該路徑底下就會有 simple 圖檔(.png)可以使用

<img src="http://40423117.github.io/blog_data/images/cadlab.png" width="800" alt="cadlab png"></img>
    
